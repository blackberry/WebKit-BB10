<!doctype html>
<html>
    <head>
        <style>
            body { font: 20px/1 monospace; margin: 20px; }
            #region { -webkit-flow-from: undefined; width: 100px; height: 100px; border: 10px solid blue; }
        </style>
    </head>
    <body>
        <p>Test for <a href="https://bugs.webkit.org/show_bug.cgi?id=107752"> [CSS Regions] Selecting text inside an empty region causes selection outside the region area</a>.</p>
        <p>The blue border box is a region without flowed content.</p>
        <p>To test manually, move the mouse in the top left corner of the region and try to select the region content.</p>
        <p>You should not see any selected text: <span id="result"></span></p>
        <div id="region"></div>
        <script>
            if (window.testRunner) {
                window.testRunner.dumpAsText();
                var selection = window.getSelection();

                var region = document.getElementById("region");
                var startPositionX = region.offsetLeft + 10;
                var startPositionY = region.offsetTop + 10;
                var endPositionX = startPositionX + 100;
                var endPositionY = startPositionY + 100;

                eventSender.mouseMoveTo(startPositionX, startPositionY);
                eventSender.mouseDown();
                eventSender.mouseMoveTo(endPositionX, endPositionY);
                eventSender.mouseUp();

                document.getElementById("result").innerHTML = (selection.toString().length == 0) ? "PASS" : "FAIL";
            }
        </script>
    </body>
</html>
